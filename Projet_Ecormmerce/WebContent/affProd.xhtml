<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Affichage des produits</title>
</h:head>

<h:body>
<h:form>
<p:outputLabel for="type" value="Rechercher par :" />
<p:selectOneRadio id="type" value="#{clMB.type}" required="true">
	<f:selectItem itemLabel="Mots Clés" itemValue="mot"/>
	<f:selectItem itemLabel="Catégorie" itemValue="cat"/>
</p:selectOneRadio>
<h:inputText value="#{clMB.rech}"/>
<h:commandButton value="Rechercher" action="#{clMB.affProd}"/>
</h:form>
<h:form id="form">
    <p:dataTable var="prod" value="#{clMB.listeProd}" paginator="true" rows="10"
                 paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
                 rowsPerPageTemplate="5,10,15" id="prodTable" lazy="true" rendered="#{clMB.ind}">
        
        <p:column headerText="Id">
            <h:outputText value="#{prod.idProduit}" />
        </p:column>
        <p:column headerText="Designation:">
            <h:outputText value="#{prod.designation}" />
        </p:column>
        <p:column headerText="Description:">
            <h:outputText value="#{prod.description}" />
        </p:column>
        <p:column headerText="Prix:">
            <h:outputText value="#{prod.prix}" />
        </p:column>
        <p:column headerText="Quantité:">
            <h:outputText value="#{prod.quantite}" />
        </p:column>
        <p:column headerText="Catégorie:">
            <h:outputText value="#{prod.ca.nomCategorie}" />
        </p:column>
        <p:column headerText="">
			<h:commandLink value="Ajouter aux paniers" action="ajoutPanier">
				<f:setPropertyActionListener value="#{prod}" target="#{paMB.prod}" />
			</h:commandLink>
		</p:column>
    </p:dataTable>
</h:form>
<h1 style="color: red; text-align: center;"><h:messages/></h1>
</h:body>
</html>